# Using Bing Grounding with AI Agents

This sample demonstrates how to use the Bing Grounding tool with AI agents. The Bing Grounding tool allows agents to search the web for current information and provide accurate, well-sourced answers.

## What this sample demonstrates

- Creating agents with Bing Grounding capabilities
- Using HostedWebSearchTool (MEAI abstraction)
- Using native SDK Bing Grounding tools (BingGroundingToolDefinition)
- Extracting response text and citations from agent responses
- Managing agent lifecycle (creation and deletion)

## Prerequisites

Before you begin, ensure you have the following prerequisites:

- .NET 10 SDK or later
- Azure Foundry service endpoint and deployment configured
- Bing Grounding connection configured in Azure Foundry project
- Azure CLI installed and authenticated (for Azure credential authentication)

**Note**: This demo uses Azure CLI credentials for authentication. Make sure you're logged in with `az login` and have access to the Azure Foundry resource. For more information, see the [Azure CLI documentation](https://learn.microsoft.com/cli/azure/authenticate-azure-cli-interactively).

Set the following environment variables:

```powershell
$env:AZURE_FOUNDRY_PROJECT_ENDPOINT="https://your-foundry-service.services.ai.azure.com/api/projects/your-foundry-project" # Replace with your Azure Foundry resource endpoint
$env:AZURE_FOUNDRY_PROJECT_DEPLOYMENT_NAME="gpt-4o-mini"  # Optional, defaults to gpt-4o-mini
$env:BING_PROJECT_CONNECTION_ID="your-bing-connection-id" # The Bing connection ID from your Azure Foundry project
```

## Run the sample

Navigate to the FoundryAgents sample directory and run:

```powershell
cd dotnet/samples/GettingStarted/FoundryAgents
dotnet run --project .\FoundryAgents_Step16_BingGrounding
```

## Expected behavior

The sample will:

1. Create two agents with Bing Grounding capabilities:
   - Option 1: Using HostedWebSearchTool (MEAI abstraction)
   - Option 2: Using native SDK BingGroundingToolDefinition
2. Run the agent with a question requiring current information: "What are the latest developments in AI this week?"
3. The agent will use Bing Grounding to search the web for up-to-date information
4. Display the response with cited sources
5. Display any URL annotations/citations generated by the tool
6. Clean up resources by deleting both agents
